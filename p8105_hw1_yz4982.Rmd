---
title: "p8105_hw1_yz4982"
author: "Yuanyuan Zhang"
output:
  html_document:
    toc: true
    toc_float: true
---

Promblem 1
------------------------------------------------------------
### Early january weather datase
```{r load-weather}
# load the moderndive package
library(moderndive)

# Load the early_january_weather dataset
data("early_january_weather")

# Show the first 6 rows 
head(early_january_weather)

# Show dataset structure with variable types
dplyr::glimpse(early_january_weather)

```

The variables in this dataset are:  
`r paste(names(early_january_weather), collapse = ", ")`.  

Among these, some key variables are:  
**origin**: indicates the weather station code, with observed values: 
`r paste(unique(early_january_weather$origin), collapse = ", ")`.  
**month**: records the month of the observation, with unique value(s): 
`r paste(unique(early_january_weather$month), collapse = ", ")`.  
**day**: records the calendar day of the month, ranging from 
`r min(early_january_weather$day)` to `r max(early_january_weather$day)`.    
**temp**: temperature in °F, with a mean of 
  `r round(mean(early_january_weather$temp, na.rm = TRUE), 1)`.  
**humid**: relative humidity (0–1 scale), ranging from 
  `r round(min(early_january_weather$humid, na.rm = TRUE), 2)` to 
  `r round(max(early_january_weather$humid, na.rm = TRUE), 2)`.  
**wind_speed**: average wind speed in mph, with a mean of 
  `r round(mean(early_january_weather$wind_speed, na.rm = TRUE), 1)`.  
**pressure**: atmospheric pressure in millibars, with a mean of 
  `r round(mean(early_january_weather$pressure, na.rm = TRUE), 1)`.  
**time_hour**: hourly date-time observations, ranging from 
  `r min(early_january_weather$time_hour)` to 
  `r max(early_january_weather$time_hour)`. 

The dataset has `r nrow(early_january_weather)` rows and `r ncol(early_january_weather)` columns. 

The average temperature is `r round(mean(early_january_weather$temp, na.rm = TRUE), 1)` °F.

### Scatterplot of temperature vs time
```{r p1-plot, fig.width=8, fig.height=4}
library(ggplot2)

# Scatterplot: temp vs time_hour, colored by humidity
p1 <- ggplot(early_january_weather, aes(x = time_hour, y = temp, color = humid)) +
  geom_point(alpha = 0.6) +
  labs(
    title = "Hourly Temperature in Early January",
    x = "Time (hourly)",
    y = "Temperature (°F)",
    color = "Humidity"
  ) +
  theme(
  # X-axis label font size, rotation angle
  axis.text.x = element_text(size = 12, angle = 45, hjust = 1, color = "midnightblue"),
  # Y-axis label color
  axis.text.y = element_text(size = 12, color ='midnightblue')
)

p1
```

The data show strong daily cycles: temperatures rise during the day and fall at night.
The Clear upward trend in temperatures across the two weeks of January

There is some day-to-day variation early January starts cooler in the 20–30 °F range, while later days show warmer averages 40–50 °F range.

Points with higher humidity with darker blue colors cluster at lower temperatures, suggesting that cooler periods tend to be more humid. As temperature goes up, humidity tends to go down.

```{r save-p1, include=FALSE}
# Save the plot to HW1 folder
ggsave(" temp vs time.png", plot = p1, width = 8, height = 4.5, dpi = 300)
```

Promblem 2
------------------------------------------------------------
### Create a data frame
```{r}

library(tidyverse)
set.seed(123)

# a random sample of size 10 from a standard Normal distribution
x <- rnorm(10)

# a logical vector indicating whether elements of the sample > 0
logical_vector <- x > 0

# a character vector of length 10
chars <- sample(letters, 10)

# a factor vector of length 10, with 3 different factor “levels"
factor_vector <- factor(sample(c("sad","peaceful","happy"), 10, replace = TRUE))

# data frame

df <- tibble(x, logical_vector, chars, factor_vector )
df

mean(df %>% pull(x))       # number exist
mean(df %>% pull(logical_vector))  # number exist
mean(df %>% pull(chars))   # NA (Warning message)
mean(df %>% pull(factor_vector))     # NA (Warning message)
```
The numeric (x) can be mean() directly.

The logical is automatically treated as 0/1 in numeric operations: TRUE = 1, FALSE = 0, so mean(is_pos) is equal to the real number.

The character and factor columns cannot be averaged directly
mean() requires a numeric or logical vector, or it will report an error or return NA with a warning.

### Convert variables from one type to another
```{r}
# logical -> numeric：TRUE -> 1, FALSE -> 0 [ 0 0 1 1 1 1 1 0 0 0]
as.numeric(df$logical_vector)

# char -> numeric：Warning message [NAs introduced by coercion]
as.numeric(df$chars)

# factor vector -> numeric: [3 1 1 3 1 2 3 1 3 3]
as.numeric(df$factor_vector)

```
When logical values are converted to numbers, true becomes 1 and false becomes 0. Thus, the mean value gives the ratio of the three. When characters are converted, r cannot interpret letters as numbers, so it returns NA with a warning. when factors are converted, r returns internal integer codes based on their order rather than on the level of the label, and these numbers are usually not interpreted in a meaningful way.

The mean works for numeric and logical variables because they can be represented as numbers, but it fails for characters and factors because their values do not have inherent numeric meaning.